# Docker Compose override for local development and testing
# Use this file when running tests locally: docker-compose -f docker-compose.test.yml -f docker-compose.test.local.yml up

services:
  # Override API service to build locally instead of using pre-built image
  api:
    build:
      context: ./api
      dockerfile: Dockerfile
      target: dependencies  # Use dependencies stage which has Composer for testing
    image: null  # Don't use the pre-built image